<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Case Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Fira Sans', sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .header {
            text-align: center;
            padding: 1em;
            background: #007BFF;
            color: white;
            font-size: 1.5em;
        }
        .content {
            display: flex;
            flex: 1;
        }
        .sidebar {
            width: 25%;
            background: #f0f0f0;
            padding: 1em;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }
        .main {
            flex: 1;
            padding: 1em;
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }
        .sidebar ul li {
            margin: 0.5em 0;
            cursor: pointer;
            padding: 0.5em;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .sidebar ul li:hover {
            background: #007BFF;
            color: white;
        }
        .sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
            transition: width 0.3s;
        }
        .impressum {
            text-align: center;
            padding: 1em;
            background: #ddd;
        }
        .feature-content {
            display: none;
        }
        .feature-content.active {
            display: block;
        }
        .folder {
            font-weight: bold;
            cursor: pointer;
            margin: 5px 0;
        }
        .case {
            margin-left: 20px;
            cursor: pointer;
            color: #007BFF;
            transition: color 0.3s;
        }
        .case:hover {
            color: #0056b3;
        }
        .file-header {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 10px;
        }
        .note-box {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .note-box textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            font-size: 1em;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            Medical Case Dashboard
            <button id="toggle-sidebar" style="margin-left: 10px;">Toggle Sidebar</button>
        </div>
        <div class="content">
            <div class="sidebar">
                <ul>
                    <li data-feature="plot">Dynamic Plot</li>
                    <li data-feature="ui-elements">UI Features</li>
                    <li data-feature="image">Image Overlay</li>
                    <li data-feature="case-analysis">Case Analysis</li>
                    <li data-feature="patient-info">Patient Information</li>
                    <li data-feature="doctor-notes">Doctor's Notes</li>
                </ul>
            </div>
            <div class="main">
                <div id="plot" class="feature-content">
                    <h3>Dynamic Sin(x) Plot</h3>
                    <input type="range" id="slider" min="-5" max="5" step="0.1" value="1">
                    <p>Adjust x-value (Current: <span id="slider-value">1</span>)</p>
                    <img id="plot-image" src="" alt="Dynamic Plot">
                </div>
                <div id="ui-elements" class="feature-content">
                    <h3>UI Features</h3>
                    <button id="open-modal">Open Modal</button>
                    <div class="modal" id="modal">
                        <div class="modal-content">
                            <p>This is a modal!</p>
                            <button id="close-modal">Close</button>
                        </div>
                    </div>
                </div>
                <div id="image" class="feature-content">
                    <h3>Image Overlay</h3>
                    <img src="static/images/result_1.png" alt="Overlay Image">
                </div>
                <div id="case-analysis" class="feature-content">
                    <h3>Case Analysis</h3>
                    <input type="file" id="file-upload" multiple>
                    <div id="file-header"></div>
                    <div id="uploaded-files"></div>
                    <div id="analysis-results"></div>
                </div>
                <!-- New Section: Patient Information -->
                <div id="patient-info" class="feature-content">
                    <h3>Patient Information</h3>
                    <div class="note-box">
                        <p><strong>Name:</strong> XXXX</p>
                        <p><strong>Age:</strong> XX</p>
                        <p><strong>Diagnosis:</strong> XXX</p>
                        <p><strong>Medical History:</strong> XXX.</p>
                    </div>
                </div>
                <!-- New Section: Doctor's Notes -->
                <div id="doctor-notes" class="feature-content">
                    <h3>Doctor's Notes</h3>
                    <div class="note-box">
                        <textarea id="doctor-notes-text" placeholder="Enter notes here..."></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="impressum">
            Example Impressum: This page demonstrates various features.
        </div>
    </div>
    <script>
        document.querySelectorAll('.sidebar ul li').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.feature-content').forEach(content => {
                    content.classList.remove('active');
                });
                const featureId = item.getAttribute('data-feature');
                document.getElementById(featureId).classList.add('active');
            });
        });

        const toggleButton = document.getElementById('toggle-sidebar');
        const sidebar = document.querySelector('.sidebar');
        toggleButton.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
        });

        const fileUpload = document.getElementById('file-upload');
        const uploadedFiles = document.getElementById('uploaded-files');
        const analysisResults = document.getElementById('analysis-results');
        const fileHeader = document.getElementById('file-header');

        fileUpload.addEventListener('change', (event) => {
            uploadedFiles.innerHTML = '';
            analysisResults.innerHTML = '';

            if (event.target.files.length > 0) {
                fileHeader.textContent = `Selected File: ${event.target.files[0].name}`;
            } else {
                fileHeader.textContent = '';
            }

            Array.from(event.target.files).forEach(file => {
                const fileItem = document.createElement('p');
                fileItem.textContent = `Uploaded: ${file.name}`;
                uploadedFiles.appendChild(fileItem);

                // Simulate regional analysis
                const analysisItem = document.createElement('p');
                analysisItem.textContent = `Analysis result for ${file.name}: Region analysis complete.`;
                analysisResults.appendChild(analysisItem);
            });
        });

        document.querySelector('.sidebar ul li').click();
    </script>
</body>
</html>
